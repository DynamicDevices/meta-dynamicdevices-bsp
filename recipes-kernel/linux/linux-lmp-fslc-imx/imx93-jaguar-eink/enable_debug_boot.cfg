# Debug boot kernel configuration for imx93-jaguar-eink
# Enable verbose logging for secure enclave debugging

# === Enable Debug Logging ===

# Enable all printk features for debugging
CONFIG_PRINTK=y
CONFIG_EARLY_PRINTK=y
CONFIG_PRINTK_TIME=y
CONFIG_PRINTK_CALLER=y

# Enable debug features for troubleshooting
CONFIG_DEBUG_KERNEL=y
CONFIG_DEBUG_INFO=y
CONFIG_KALLSYMS=y
CONFIG_KALLSYMS_ALL=y
CONFIG_DEBUG_FS=y

# Enable early console for debugging boot issues
CONFIG_SERIAL_EARLYCON=y
CONFIG_SERIAL_IMX_EARLYCON=y

# Keep essential IPC features for systemd
CONFIG_SYSVIPC=y
CONFIG_POSIX_MQUEUE=y

# Standard scheduler (not optimized for speed)
CONFIG_PREEMPT_VOLUNTARY=y
CONFIG_PREEMPT=n
CONFIG_PREEMPT_RT=n

# Standard RCU configuration
CONFIG_RCU_FANOUT=64
CONFIG_RCU_BOOST=n

# Standard timer frequency
CONFIG_HZ_250=y
CONFIG_HZ_1000=n
CONFIG_HZ=250

# Module support
CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y

# Filesystem support
CONFIG_EXT4_FS=y
CONFIG_EXT4_USE_FOR_EXT2=y
CONFIG_EXT4_USE_FOR_EXT23=y

# Graphics support (needed for eInk display)
CONFIG_DRM=y
CONFIG_FB=y

# Network drivers
CONFIG_ETHERNET=y

# Memory management
CONFIG_SLUB=y
CONFIG_SLAB=n
CONFIG_SLOB=n

# Storage support
CONFIG_SCSI=y
CONFIG_BLK_DEV_SD=y
CONFIG_MMC=y
CONFIG_MMC_BLOCK=y

# Serial console support
CONFIG_SERIAL_IMX=y
CONFIG_SERIAL_IMX_CONSOLE=y

# Secure enclave configuration - consistent with board design
# The i.MX93 eink board uses standard OCOTP, not ELE-based drivers
# CONFIG_IMX_SEC_ENCLAVE is not set
# CONFIG_NVMEM_IMX_OCOTP_FSB_S400 is not set

# Enable standard OCOTP for hostname generation
CONFIG_NVMEM=y
CONFIG_NVMEM_SYSFS=y
CONFIG_NVMEM_IMX_OCOTP=y

# Enable SOC driver for /sys/devices/soc0 creation
CONFIG_SOC_BUS=y
CONFIG_ARM_SMCCC_SOC_ID=y
CONFIG_SOC_IMX9=y
CONFIG_IMX_SOC=y
