# Minimal eInk display support for imx93-jaguar-eink
# E-Ink displays use SPI interface and framebuffer, not DRM
# This configuration focuses on what's actually needed for E-Ink functionality

# === Disable DRM Framework (not needed for E-Ink) ===
CONFIG_DRM=n
CONFIG_DRM_KMS_HELPER=n
CONFIG_DRM_GEM_DMA_HELPER=n
CONFIG_DRM_PANEL=n
CONFIG_DRM_PANEL_SIMPLE=n
CONFIG_DRM_IMX=n
CONFIG_DRM_IMX_LCDIF=n
CONFIG_DRM_IMX_PARALLEL=n
CONFIG_DRM_IMX_DCSS=n
CONFIG_IMX_LCDIF_CORE=n
CONFIG_IMX_DPU_CORE=n
CONFIG_IMX_DCSS_CORE=n

# === Framebuffer Support (essential for E-Ink) ===
CONFIG_FB=y
CONFIG_FB_CFB_FILLRECT=y
CONFIG_FB_CFB_COPYAREA=y
CONFIG_FB_CFB_IMAGEBLIT=y
CONFIG_FB_DEFERRED_IO=y

# === Essential Graphics Memory Management ===
CONFIG_DMA_CMA=y
CONFIG_CMA=y
CONFIG_CMA_SIZE_MBYTES=16  # Minimal for E-Ink (reduced from 32MB)

# === E-Ink Controllers (minimal set) ===
CONFIG_FB_TFT=y
CONFIG_FB_TFT_ST7586=y    # ST7586 E-Ink controller (essential)

# === Option 2: Remove unused display drivers ===
# Remove heavy display processing units
# CONFIG_DRM_IMX_DCSS is not set              # DCSS not needed for basic E-Ink
# CONFIG_IMX_DPU_CORE is not set              # DPU not needed for E-Ink
# CONFIG_IMX_DCSS_CORE is not set             # DCSS core not needed

# Remove unused framebuffer features
# CONFIG_FB_MODE_HELPERS is not set           # Mode helpers not needed
# CONFIG_DRM_KMS_FB_HELPER is not set         # FB helper not needed
# CONFIG_DRM_PANEL_ORIENTATION_QUIRKS is not set

# Remove unused TFT drivers (Option 2 aggressive cleanup)
# CONFIG_FB_TFT_FBTFT_DEVICE is not set       # Generic device support
# CONFIG_FB_TFT_UC1701 is not set             # UC1701 controller
# CONFIG_FB_TFT_SSD1322 is not set            # SSD1322 grayscale OLED
# CONFIG_FB_TFT_SSD1680 is not set            # SSD1680 E-Ink controller
# CONFIG_FB_TFT_UC8151 is not set             # UC8151 tri-color E-Ink
# CONFIG_FB_TFT_IL0373 is not set             # IL0373 flexible E-Ink

# Remove console support for faster boot
# CONFIG_FRAMEBUFFER_CONSOLE is not set       # No console on framebuffer
# CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY is not set

# Remove backlight support (not needed for E-Ink)
# CONFIG_BACKLIGHT_CLASS_DEVICE is not set
# CONFIG_BACKLIGHT_PWM is not set
# CONFIG_BACKLIGHT_GPIO is not set

# Remove logo support
CONFIG_LOGO=n

# Remove 3D/Gaming Graphics (already disabled but ensure)
# CONFIG_DRM_ETNAVIV is not set
# CONFIG_DRM_VIVANTE is not set
# CONFIG_MXC_GPU_VIV is not set

# Remove Video/TV Output (already disabled but ensure)
# CONFIG_DRM_IMX_TVE is not set
# CONFIG_DRM_IMX_HDMI is not set
# CONFIG_DRM_DW_HDMI_IMX is not set

# Remove heavy graphics features
# CONFIG_DRM_LEGACY is not set
# CONFIG_DRM_FBDEV_EMULATION is not set
