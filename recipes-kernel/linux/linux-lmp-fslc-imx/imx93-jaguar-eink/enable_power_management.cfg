# Enable comprehensive power management for i.MX93 eink board
# Focus on low power modes and suspend/resume functionality

# Basic power management
CONFIG_PM=y
CONFIG_PM_SLEEP=y
CONFIG_SUSPEND=y
CONFIG_HIBERNATION=n
CONFIG_PM_STD_PARTITION=""
CONFIG_PM_SLEEP_SMP=y
CONFIG_PM_AUTOSLEEP=n
CONFIG_PM_WAKELOCKS=y
CONFIG_PM_WAKELOCKS_LIMIT=100
CONFIG_PM_WAKELOCKS_GC=y
CONFIG_PM_DEBUG=y
CONFIG_PM_ADVANCED_DEBUG=y

# CPU idle management for better power efficiency
CONFIG_CPU_IDLE=y
CONFIG_CPU_IDLE_GOV_LADDER=y
CONFIG_CPU_IDLE_GOV_MENU=y
CONFIG_CPU_IDLE_GOV_TEO=y
CONFIG_ARM_CPUIDLE=y

# CPU frequency scaling for dynamic power management
CONFIG_CPU_FREQ=y
CONFIG_CPU_FREQ_STAT=y
CONFIG_CPU_FREQ_TIMES=y
CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=n
CONFIG_CPU_FREQ_DEFAULT_GOV_POWERSAVE=n
CONFIG_CPU_FREQ_DEFAULT_GOV_USERSPACE=n
CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND=n
CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE=n
CONFIG_CPU_FREQ_DEFAULT_GOV_SCHEDUTIL=y
CONFIG_CPU_FREQ_GOV_PERFORMANCE=y
CONFIG_CPU_FREQ_GOV_POWERSAVE=y
CONFIG_CPU_FREQ_GOV_USERSPACE=y
CONFIG_CPU_FREQ_GOV_ONDEMAND=y
CONFIG_CPU_FREQ_GOV_CONSERVATIVE=y
CONFIG_CPU_FREQ_GOV_SCHEDUTIL=y
CONFIG_CPUFREQ_DT=y
CONFIG_ARM_IMX_CPUFREQ_DT=y

# Suspend-to-idle (S2idle) - preferred for ARM platforms
CONFIG_SUSPEND_SKIP_SYNC=n

# Wake sources and interrupt handling
CONFIG_PM_GENERIC_DOMAINS=y
CONFIG_PM_GENERIC_DOMAINS_SLEEP=y
CONFIG_PM_GENERIC_DOMAINS_OF=y

# RTC wake support
CONFIG_RTC_DRV_IMX_SC=y
CONFIG_RTC_HCTOSYS=y
CONFIG_RTC_SYSTOHC=y

# GPIO wake support
CONFIG_GPIOLIB=y
CONFIG_GPIO_SYSFS=y

# Power management for specific subsystems relevant to eink board
CONFIG_REGULATOR_GPIO=y
CONFIG_REGULATOR_FIXED_VOLTAGE=y

# MMC/SDIO power management (for WiFi module)
CONFIG_MMC_BLOCK=y
CONFIG_MMC_SDHCI=y
CONFIG_MMC_SDHCI_ESDHC_IMX=y

# USB power management
CONFIG_USB_SUSPEND=y
CONFIG_USB_DEFAULT_PERSIST=y

# I2C power management
CONFIG_I2C_IMX=y

# SPI power management
CONFIG_SPI_IMX=y

# UART power management for console and Bluetooth
CONFIG_SERIAL_IMX=y
CONFIG_SERIAL_IMX_CONSOLE=y

# Enable runtime power management
CONFIG_PM_RUNTIME=y

# Device tree support for power domains
CONFIG_OF=y
CONFIG_OF_GPIO=y
CONFIG_OF_IRQ=y

# Thermal management for power efficiency
CONFIG_THERMAL=y
CONFIG_THERMAL_DEFAULT_GOV_STEP_WISE=y
CONFIG_THERMAL_GOV_FAIR_SHARE=y
CONFIG_THERMAL_GOV_STEP_WISE=y
CONFIG_THERMAL_GOV_BANG_BANG=y
CONFIG_THERMAL_GOV_USER_SPACE=y
CONFIG_IMX_THERMAL=y

# Enable devfreq for dynamic voltage and frequency scaling
CONFIG_PM_DEVFREQ=y
CONFIG_DEVFREQ_GOV_SIMPLE_ONDEMAND=y
CONFIG_DEVFREQ_GOV_PERFORMANCE=y
CONFIG_DEVFREQ_GOV_POWERSAVE=y
CONFIG_DEVFREQ_GOV_USERSPACE=y
CONFIG_DEVFREQ_GOV_PASSIVE=y

# Clock framework power management
CONFIG_COMMON_CLK=y
CONFIG_COMMON_CLK_IMX8MP=y

# Audio disabled for eink board - see disable_all_sound.cfg for comprehensive audio disable
