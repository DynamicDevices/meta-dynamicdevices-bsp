# Runtime power management tuning for maximum battery life
# These settings optimize the system for 5-year battery operation

# === CPU Frequency Scaling Tuning ===
# Set powersave governor as default with conservative scaling
cpufreq.default_governor=powersave

# === Memory and I/O Optimizations ===
# Reduce memory pressure and I/O for battery life
vm.swappiness=1
vm.dirty_ratio=5
vm.dirty_background_ratio=2
vm.dirty_expire_centisecs=1500
vm.dirty_writeback_centisecs=1500

# === Power Management Aggressive Settings ===
# Enable more aggressive power saving
# These will be set by systemd services for runtime control
# echo 1 > /sys/devices/system/cpu/cpufreq/ondemand/powersave_bias
# echo 1 > /sys/module/snd_hda_intel/parameters/power_save
# echo Y > /sys/module/snd_hda_intel/parameters/power_save_controller

# === Network Power Management ===
# Aggressive WiFi power saving (will be controlled by services)
# iw dev wlan0 set power_save on

# === USB Power Management ===
# Enable USB autosuspend for all devices
# echo 2 > /sys/module/usbcore/parameters/autosuspend

# === SATA/Storage Power Management ===
# Enable SATA link power management
# echo min_power > /sys/class/scsi_host/host*/link_power_management_policy

# === PCI Power Management ===
# Enable PCI device power management
# echo auto > /sys/bus/pci/devices/*/power/control

# Note: Many of these settings should be applied by systemd services
# or power management scripts rather than kernel command line for
# dynamic control based on power state (AC vs battery).
