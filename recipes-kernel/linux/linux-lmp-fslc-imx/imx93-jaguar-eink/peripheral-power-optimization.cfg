# Peripheral power optimization for imx93-jaguar-eink (Change 5)
# Disable unused peripherals and optimize power management

# === Disable Unused Audio Subsystem ===
# CONFIG_SOUND is not set
# CONFIG_SND is not set
# CONFIG_SND_SOC is not set
# CONFIG_SND_IMX_SOC is not set

# === Disable Unused Video/Media Subsystems ===
# CONFIG_MEDIA_SUPPORT is not set
# CONFIG_DVB_CORE is not set
# CONFIG_VIDEO_DEV is not set
# CONFIG_VIDEO_V4L2 is not set
# CONFIG_RADIO is not set
# CONFIG_RC_CORE is not set

# === Disable Unused Input Devices ===
# CONFIG_INPUT_KEYBOARD is not set    # No keyboard on E-Ink board
# CONFIG_INPUT_MOUSE is not set       # No mouse
# CONFIG_INPUT_TOUCHSCREEN is not set # No touchscreen
# CONFIG_INPUT_JOYSTICK is not set    # No joystick
# CONFIG_INPUT_TABLET is not set      # No tablet
# CONFIG_INPUT_MISC is not set        # No misc input devices

# === Disable Unused Communication Interfaces ===
# CONFIG_CAN is not set               # No CAN bus
# CONFIG_PCCARD is not set            # No PC Card
# CONFIG_CARDBUS is not set           # No CardBus
# CONFIG_YENTA is not set             # No YENTA socket
# CONFIG_PARPORT is not set           # No parallel port

# === Disable Unused Storage Interfaces ===
# CONFIG_ATA is not set               # No ATA/SATA
# CONFIG_SCSI is not set              # No SCSI (keep minimal for USB storage)
# CONFIG_MD is not set                # No software RAID
# CONFIG_DM_MULTIPATH is not set     # No device mapper multipath

# === Disable Gaming/Entertainment ===
# CONFIG_GAMEPORT is not set          # No game controllers
# CONFIG_HID_BATTERY_STRENGTH is not set # No HID battery info
# CONFIG_JOYSTICK_IFORCE is not set   # No force feedback

# === Disable Legacy Hardware Support ===
# CONFIG_ISA is not set               # No ISA bus
# CONFIG_EISA is not set              # No EISA bus
# CONFIG_MCA is not set               # No MCA bus
# CONFIG_SERIAL_8250 is not set      # No 8250 UART (use i.MX LPUART)

# === Optimize USB for Power (Keep minimal for LTE modem) ===
CONFIG_USB_SUPPORT=y                 # Keep USB support
CONFIG_USB=y                         # Keep USB host
CONFIG_USB_EHCI_HCD=y               # Keep EHCI for USB 2.0
CONFIG_USB_STORAGE=y                 # Keep for USB storage (if needed)
CONFIG_USB_SERIAL=y                  # Keep for LTE modem
CONFIG_USB_SERIAL_OPTION=m           # LTE modem as module
CONFIG_USB_ACM=m                     # USB ACM as module

# Disable unused USB features
# CONFIG_USB_PRINTER is not set       # No USB printer
# CONFIG_USB_TMC is not set           # No USB test equipment
# CONFIG_USB_MDC800 is not set        # No USB camera
# CONFIG_USB_MICROTEK is not set      # No USB scanner

# === Enable Runtime Power Management for Remaining Peripherals ===
CONFIG_PM_RUNTIME=y
CONFIG_PM_RUNTIME_CLK=y
CONFIG_PM_CLK=y
CONFIG_PM_GENERIC_DOMAINS_RUNTIME=y

# === Optimize Remaining I/O for Power ===
# Keep essential I/O with power management
CONFIG_I2C=y                         # Keep I2C (essential)
CONFIG_SPI=y                         # Keep SPI (essential for E-Ink)
CONFIG_GPIO_SYSFS=y                  # Keep GPIO (essential)

# Enable power management for I/O
CONFIG_I2C_CHARDEV=y                 # I2C character device
CONFIG_SPI_SPIDEV=y                  # SPI device interface

# === Network Power Optimization ===
# Keep essential networking, optimize for power
CONFIG_NET=y                         # Keep networking
CONFIG_INET=y                        # Keep IPv4
CONFIG_IPV6=y                        # Keep IPv6 (may be needed)

# Remove unused network features for power savings (keep bridge for Docker)
# Keep CONFIG_BRIDGE enabled for Docker support
# CONFIG_VLAN_8021Q is not set        # No VLAN
# CONFIG_NET_SCHED is not set         # No traffic control
# CONFIG_NET_CLS is not set           # No packet classification
# Keep CONFIG_NETFILTER_ADVANCED for Docker iptables support

# === Disable Unused Filesystems for Power ===
# Keep essential filesystems only
CONFIG_EXT4_FS=y                     # Keep EXT4 (essential)
CONFIG_VFAT_FS=y                     # Keep VFAT (essential)
CONFIG_PROC_FS=y                     # Keep procfs (essential)
CONFIG_SYSFS=y                       # Keep sysfs (essential)
CONFIG_TMPFS=y                       # Keep tmpfs (essential)

# Remove unused filesystems
# CONFIG_EXT2_FS is not set           # No EXT2
# CONFIG_EXT3_FS is not set           # No EXT3
# CONFIG_XFS_FS is not set            # No XFS
# CONFIG_BTRFS_FS is not set          # No BTRFS
# CONFIG_F2FS_FS is not set           # No F2FS
# CONFIG_NILFS2_FS is not set         # No NILFS2
# CONFIG_REISERFS_FS is not set       # No ReiserFS
# CONFIG_JFS_FS is not set            # No JFS

# === Remove Network Filesystems ===
# CONFIG_NFS_FS is not set            # No NFS client
# CONFIG_NFSD is not set              # No NFS server
# CONFIG_CIFS is not set              # No CIFS/SMB
# CONFIG_NCP_FS is not set            # No NetWare
# CONFIG_CODA_FS is not set           # No Coda filesystem
