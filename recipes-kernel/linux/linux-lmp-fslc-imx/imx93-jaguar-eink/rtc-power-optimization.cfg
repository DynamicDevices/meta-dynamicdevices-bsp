# ============================================================================
# RTC POWER OPTIMIZATION FOR 5-YEAR BATTERY LIFE
# ============================================================================
# 
# POWER CONSUMPTION ANALYSIS:
# - Internal i.MX93 RTC: ~100µA (UNACCEPTABLE for 5-year battery life)
# - External PCF2131 RTC: 600nA (166x more efficient!)
# - MCXC143VFM PMU RTC: Always powered (internal to PMU)
#
# STRATEGY:
# - PRIMARY: Use PCF2131 (600nA) for timekeeping and wake
# - DISABLE: All high-power internal RTCs (~100µA savings)
# - ENABLE: Wake sources and time synchronization
#
# HARDWARE CONNECTIONS:
# - PCF2131 INTA# → GPIO4_IO22 (i.MX93 wake)
# - PCF2131 INTB# → PTC5/LLWU_P9 (PMU wake)
# ============================================================================

# === PRIMARY RTC: PCF2131 (600nA) ===
CONFIG_RTC_CLASS=y
CONFIG_RTC_DRV_PCF2127=y                 # PCF2131 support (via PCF2127 driver)
CONFIG_RTC_HCTOSYS=y                     # Use RTC as system time source
CONFIG_RTC_SYSTOHC=y                     # Sync system time to RTC
CONFIG_RTC_HCTOSYS_DEVICE="rtc0"         # PCF2131 as primary RTC device

# === DISABLE HIGH-POWER INTERNAL RTCs (Save ~100µA) ===
# CONFIG_RTC_DRV_SNVS is not set         # Disable SNVS RTC (likely the 100µA consumer)
# CONFIG_RTC_DRV_BBNSM is not set        # Disable Battery-Backed Secure RTC
# CONFIG_RTC_DRV_IMX_SC is not set       # Disable System Controller RTC
# CONFIG_RTC_DRV_IMX_RPMSG is not set    # Disable RPMSG RTC

# === WAKE SOURCE CONFIGURATION ===
CONFIG_RTC_INTF_SYSFS=y                  # Sysfs interface for userspace
CONFIG_RTC_INTF_PROC=y                   # /proc/driver/rtc interface
CONFIG_RTC_INTF_DEV=y                    # /dev/rtc* device nodes
CONFIG_RTC_INTF_DEV_UIE_EMUL=y          # Update interrupt emulation

# === POWER MANAGEMENT INTEGRATION ===
CONFIG_PM_SLEEP=y                        # Sleep states support
CONFIG_PM_SLEEP_SMP=y                    # SMP sleep support
CONFIG_SUSPEND=y                         # Suspend to RAM
CONFIG_HIBERNATION=n                     # Disable hibernation (not needed)

# === DISABLE UNUSED RTC DRIVERS (Reduce kernel size) ===
# CONFIG_RTC_DRV_DS1307 is not set
# CONFIG_RTC_DRV_HYM8563 is not set
# CONFIG_RTC_DRV_MAX77686 is not set
# CONFIG_RTC_DRV_RK808 is not set
# CONFIG_RTC_DRV_PCF85363 is not set
# CONFIG_RTC_DRV_M41T80 is not set
# CONFIG_RTC_DRV_RX8581 is not set
# CONFIG_RTC_DRV_RV3028 is not set
# CONFIG_RTC_DRV_RV8803 is not set
# CONFIG_RTC_DRV_S5M is not set
# CONFIG_RTC_DRV_DS3232 is not set
# CONFIG_RTC_DRV_EFI is not set
# CONFIG_RTC_DRV_CROS_EC is not set
# CONFIG_RTC_DRV_PL031 is not set

# ============================================================================
# OPERATIONAL STRATEGY NOTES:
# ============================================================================
# 1. i.MX93 uses PCF2131 for primary timekeeping (always accurate)
# 2. i.MX93 syncs time with PMU periodically when powered
# 3. i.MX93 sets wake schedules in PMU before sleep
# 4. PMU uses internal RTC or PCF2131 INTB# to wake i.MX93
# 5. Complete i.MX93 power-down possible while maintaining time/wake
#
# POWER SAVINGS:
# - Disable ~100µA internal RTC consumption
# - Use 600nA PCF2131 for timekeeping
# - Enable complete i.MX93 power shutdown
# - Total RTC power: 600nA vs 100µA (166x improvement!)
# ============================================================================
