# CPU Frequency Scaling for i.MX93 E-Ink Board Power Optimization
# 
# This configuration enables dynamic CPU frequency scaling to reduce power consumption
# during idle periods, which is critical for the 5-year battery life requirement.
# The powersave governor is used by default to prioritize battery life over performance.

# === Core CPU Frequency Scaling Framework ===
CONFIG_CPU_FREQ=y
CONFIG_CPU_FREQ_STAT=y
CONFIG_CPU_FREQ_TIMES=y
CONFIG_CPU_FREQ_DEFAULT_GOV_POWERSAVE=y

# === CPU Frequency Governors ===
CONFIG_CPU_FREQ_GOV_POWERSAVE=y
CONFIG_CPU_FREQ_GOV_ONDEMAND=y
CONFIG_CPU_FREQ_GOV_CONSERVATIVE=y
CONFIG_CPU_FREQ_GOV_USERSPACE=y
CONFIG_CPU_FREQ_GOV_PERFORMANCE=y
CONFIG_CPU_FREQ_GOV_SCHEDUTIL=y

# === ARM CPU Frequency Scaling Driver ===
CONFIG_CPUFREQ_DT=y
CONFIG_CPUFREQ_DT_PLATDEV=y

# === ARM64 CPU Frequency Scaling ===
CONFIG_ARM_SCPI_CPUFREQ=y
CONFIG_ARM_SCMI_CPUFREQ=y

# === CPU Idle Management ===
CONFIG_CPU_IDLE=y
CONFIG_CPU_IDLE_GOV_LADDER=y
CONFIG_CPU_IDLE_GOV_MENU=y
CONFIG_CPU_IDLE_GOV_TEO=y

# === ARM CPU Idle Drivers ===
CONFIG_ARM_CPUIDLE=y
CONFIG_ARM_PSCI_CPUIDLE=y

# === Power Management Integration ===
CONFIG_PM=y
CONFIG_PM_SLEEP=y
CONFIG_PM_AUTOSLEEP=y
CONFIG_PM_WAKELOCKS=y
CONFIG_PM_ADVANCED_DEBUG=y

# === Device Tree CPU Frequency Support ===
CONFIG_OF=y
CONFIG_OF_DYNAMIC=y

# === Thermal Management (prevents overheating during frequency scaling) ===
CONFIG_THERMAL=y
CONFIG_THERMAL_DEFAULT_GOV_STEP_WISE=y
CONFIG_THERMAL_GOV_FAIR_SHARE=y
CONFIG_THERMAL_GOV_STEP_WISE=y
CONFIG_THERMAL_GOV_USER_SPACE=y
CONFIG_THERMAL_GOV_POWER_ALLOCATOR=y
CONFIG_THERMAL_EMULATION=y

# === i.MX Thermal Support ===
CONFIG_IMX_THERMAL=y
CONFIG_IMX_SC_THERMAL=y

# === Voltage Regulators (needed for DVFS - Dynamic Voltage and Frequency Scaling) ===
CONFIG_REGULATOR=y
CONFIG_REGULATOR_FIXED_VOLTAGE=y
CONFIG_REGULATOR_GPIO=y
