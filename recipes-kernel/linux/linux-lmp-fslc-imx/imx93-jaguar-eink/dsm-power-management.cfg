# Deep Sleep Mode (DSM) Power Management Configuration for i.MX93 E-Ink Board
# Based on AN13917: i.MX 93 Power Consumption Measurement
# Enables 7.6mW standby power consumption for E-Ink applications

# === Core Power Management ===
CONFIG_PM=y
CONFIG_PM_SLEEP=y
CONFIG_PM_ADVANCED=y
CONFIG_PM_DEBUG=y
CONFIG_PM_TRACE=y

# === Suspend/Resume Support ===
CONFIG_SUSPEND=y
CONFIG_SUSPEND_FREEZER=y
CONFIG_HIBERNATION=y
CONFIG_PM_STD_PARTITION=""

# === CPU Power Management ===
CONFIG_CPU_PM=y
CONFIG_CPU_IDLE=y
CONFIG_CPU_IDLE_GOV_LADDER=y
CONFIG_CPU_IDLE_GOV_MENU=y
CONFIG_CPU_IDLE_GOV_TEO=y

# === ARM Power Management ===
CONFIG_ARM_PSCI_CPUIDLE=y
CONFIG_ARM_CPUIDLE=y

# === Device Power Management ===
CONFIG_PM_GENERIC_DOMAINS=y
CONFIG_PM_GENERIC_DOMAINS_SLEEP=y
CONFIG_PM_GENERIC_DOMAINS_OF=y

# === Wake Sources ===
CONFIG_PM_WAKELOCKS=y
CONFIG_PM_WAKELOCKS_LIMIT=100
CONFIG_PM_WAKELOCKS_GC=y

# === Runtime Power Management ===
CONFIG_PM_RUNTIME=y
CONFIG_PM_CLK=y

# === Power Supply Framework ===
CONFIG_POWER_SUPPLY=y
CONFIG_POWER_SUPPLY_DEBUG=y

# === Regulator Framework (for PMIC STBY mode) ===
CONFIG_REGULATOR=y
CONFIG_REGULATOR_DEBUG=y
CONFIG_REGULATOR_FIXED_VOLTAGE=y

# === Clock Power Management ===
CONFIG_PM_CLK=y
CONFIG_COMMON_CLK_DEBUG=y

# === i.MX93 Specific Power Management ===
CONFIG_SOC_IMX93=y

# === Low Power UART Support (for wake) ===
CONFIG_SERIAL_FSL_LPUART=y
CONFIG_SERIAL_FSL_LPUART_CONSOLE=y

# === I2C Power Management (for PCF2131 RTC wake) ===
CONFIG_I2C_IMX_LPI2C=y

# === GPIO Wake Support ===
CONFIG_GPIOLIB=y
CONFIG_GPIO_SYSFS=y
CONFIG_GPIO_MXC=y

# === Watchdog Power Management ===
CONFIG_IMX_WATCHDOG=y

# === Memory Power Management ===
CONFIG_ARCH_SUSPEND_POSSIBLE=y

# === Debug Support for Power Management ===
CONFIG_PM_TEST_SUSPEND=y
CONFIG_DPM_WATCHDOG=y

# === Energy Model Support ===
CONFIG_ENERGY_MODEL=y
