# eInk display support for imx93-jaguar-eink
# Optimized graphics configuration for eInk displays

# === Core DRM Framework ===
CONFIG_DRM=y
CONFIG_DRM_KMS_HELPER=y
CONFIG_DRM_GEM_DMA_HELPER=y
CONFIG_DRM_KMS_FB_HELPER=y

# === Display Panel Support ===
CONFIG_DRM_PANEL=y
CONFIG_DRM_PANEL_SIMPLE=y
CONFIG_DRM_PANEL_ORIENTATION_QUIRKS=y

# === i.MX Display Controllers ===
CONFIG_DRM_IMX=y
CONFIG_DRM_IMX_DCSS=y
CONFIG_DRM_IMX_LCDIF=y
CONFIG_DRM_IMX_PARALLEL=y

# === Display Processing Units ===
CONFIG_IMX_DPU_CORE=y
CONFIG_IMX_LCDIF_CORE=y
CONFIG_IMX_DCSS_CORE=y

# === Framebuffer Support ===
CONFIG_FB=y
CONFIG_FB_MODE_HELPERS=y
CONFIG_FB_CFB_FILLRECT=y
CONFIG_FB_CFB_COPYAREA=y
CONFIG_FB_CFB_IMAGEBLIT=y
CONFIG_FB_DEFERRED_IO=y

# === Console Support ===
CONFIG_FRAMEBUFFER_CONSOLE=y
CONFIG_FRAMEBUFFER_CONSOLE_DETECT_PRIMARY=y

# === Essential Graphics Memory Management ===
CONFIG_DMA_CMA=y
CONFIG_CMA=y
CONFIG_CMA_SIZE_MBYTES=64

# === Common eInk Display Controllers ===
# These might be connected via SPI or I2C
CONFIG_FB_SSD1307=y  # Common eInk controller
CONFIG_FB_SSD1351=y  # OLED/eInk controller
CONFIG_FB_ST7586=y   # eInk controller
CONFIG_FB_HX8357D=y  # TFT/eInk controller

# === SPI Display Support ===
CONFIG_FB_TFT=y
CONFIG_FB_TFT_SSD1306=y
CONFIG_FB_TFT_SSD1331=y
CONFIG_FB_TFT_SSD1351=y

# === Backlight Support (if needed) ===
CONFIG_BACKLIGHT_CLASS_DEVICE=y
CONFIG_BACKLIGHT_PWM=y
CONFIG_BACKLIGHT_GPIO=y

# === Logo Support (optional) ===
CONFIG_LOGO=n  # Disable boot logo for faster boot

# === Remove 3D/Gaming Graphics ===
CONFIG_DRM_ETNAVIV=n
CONFIG_DRM_VIVANTE=n
CONFIG_MXC_GPU_VIV=n

# === Remove Video/TV Output ===
CONFIG_DRM_IMX_TVE=n
CONFIG_DRM_IMX_HDMI=n
CONFIG_DRM_DW_HDMI_IMX=n

# === Disable Heavy Graphics Features ===
CONFIG_DRM_LEGACY=n
CONFIG_DRM_FBDEV_EMULATION=y
CONFIG_DRM_FBDEV_OVERALLOC=100
