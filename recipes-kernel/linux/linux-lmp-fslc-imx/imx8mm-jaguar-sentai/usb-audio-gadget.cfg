# USB Audio Gadget Configuration for imx8mm-jaguar-sentai
# Enables USB Audio Class gadget functions (UAC1/UAC2)
# Usage: Use setup-usb-audio-gadget script after kernel build

# === USB Audio Class Function Support ===
# Enable UAC1 (USB Audio Class 1.0) function for ConfigFS
CONFIG_USB_CONFIGFS_F_UAC1=m

# Enable UAC2 (USB Audio Class 2.0) function for ConfigFS  
CONFIG_USB_CONFIGFS_F_UAC2=m

# Enable legacy UAC1 support for compatibility
CONFIG_USB_CONFIGFS_F_UAC1_LEGACY=m

# === Legacy USB Audio Gadget Support ===
# Enable the legacy g_audio gadget driver as fallback
CONFIG_USB_AUDIO=m

# === USB OTG/Device Controller Support ===
# Ensure USB OTG support is enabled for role switching
CONFIG_USB_OTG=y
CONFIG_USB_OTG_FSM=y

# Enable USB role switch support
CONFIG_USB_ROLE_SWITCH=y

# === USB Device Controller Support ===
# ChipIdea USB controller support (used in i.MX8MM)
CONFIG_USB_CHIPIDEA=y
CONFIG_USB_CHIPIDEA_UDC=y
CONFIG_USB_CHIPIDEA_HOST=y
CONFIG_USB_CHIPIDEA_PCI=m
CONFIG_USB_CHIPIDEA_OF=y

# === USB PHY Support ===
# USB PHY support for proper USB operation
CONFIG_USB_PHY=y
CONFIG_NOP_USB_XCEIV=y
CONFIG_USB_MXS_PHY=y

# === ALSA Support for USB Audio ===
# Basic ALSA support needed for audio functionality
CONFIG_SOUND=y
CONFIG_SND=y
CONFIG_SND_PCM=y
CONFIG_SND_TIMER=y

# USB Audio host support (for testing/debugging)
CONFIG_SND_USB=y
CONFIG_SND_USB_AUDIO=m

# === Audio Loopback Support ===
# ALSA loopback driver for audio routing/testing
CONFIG_SND_ALOOP=m

# === ConfigFS Support ===
# Ensure ConfigFS is available for gadget configuration
CONFIG_CONFIGFS_FS=y

# === USB Gadget Debug Support ===
# Enable for debugging USB gadget issues
CONFIG_USB_GADGET_DEBUG=y
CONFIG_USB_GADGET_DEBUG_FILES=y
CONFIG_USB_GADGET_DEBUG_FS=y

# === Additional USB Audio Debug Support ===
# Enable USB audio specific debugging
CONFIG_SND_DEBUG=y
CONFIG_SND_PCM_DEBUG=y
CONFIG_SND_VERBOSE_PROCFS=y

# === USB Core Debug Support ===
# Enable USB core debugging for better diagnostics
CONFIG_USB_DEBUG=y
