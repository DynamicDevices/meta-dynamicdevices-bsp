# MFGTools minimal U-Boot configuration for imx93-jaguar-eink
# 
# CRITICAL: MFGTools bootloader is ONLY for programming bootstrap
# Production optimizations break the mfgtool causing programming failures
# Keep this configuration minimal and functional for board programming
#
# This file explicitly disables problematic production configurations
# that were breaking the mfgtool bootloader in builds 2035-2036

# === DISABLE PRODUCTION OPTIMIZATIONS ===
# These optimizations are for production U-Boot, not mfgtool bootstrap

# Re-enable watchdog (production disables it, but mfgtool might need it)
CONFIG_IMX_WATCHDOG=y

# Use default boot delay (production sets to 3, mfgtool should be default)
# CONFIG_BOOTDELAY is not set

# Disable ELE reset prevention (production feature, not needed for mfgtool)
# CONFIG_FASTBOOT_AUTO_REBOOT is not set

# === KEEP ESSENTIAL MFGTOOL FEATURES ===
# Ensure mfgtool has what it needs for programming

# Keep fastboot support (essential for programming)
CONFIG_FASTBOOT=y
CONFIG_CMD_FASTBOOT=y

# Keep USB support (needed for UUU communication)
CONFIG_USB=y
CONFIG_USB_GADGET=y

# Keep basic I2C (but not production-specific configs)
CONFIG_I2C=y

# Keep basic SPI (but not production-specific configs)  
CONFIG_SPI=y

# === STRATEGY ===
# MFGTools gets: Basic, functional U-Boot for programming bootstrap
# Production gets: All optimizations, RTC support, power management
# Result: Working mfgtool bootloader + optimized production firmware
