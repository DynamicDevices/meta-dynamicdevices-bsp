# Enable minimal PCA9451A PMIC support for i.MX93 Jaguar E-Ink
# SPL: Essential voltage rails only (DRAM requirements)
# U-Boot: Full PMIC features for power management

# === SPL MINIMAL PMIC SUPPORT (Essential for DRAM) ===
# Enable basic PMIC framework in SPL for voltage setup
CONFIG_SPL_DM_PMIC=y
CONFIG_SPL_DM_PMIC_PCA9450=y

# Enable minimal I2C support in SPL for PMIC communication
CONFIG_SPL_DM_I2C=y

# Enable power support in SPL for voltage rail setup
CONFIG_SPL_POWER_SUPPORT=y
CONFIG_SPL_POWER=y

# === U-BOOT FULL PMIC SUPPORT ===
# Device Model PMIC Framework (U-Boot)
CONFIG_DM_PMIC=y

# PCA9451A PMIC Driver Support (U-Boot)
CONFIG_DM_PMIC_PCA9450=y

# PCA9451A Regulator Support (U-Boot - CRITICAL for voltage scaling)
CONFIG_DM_REGULATOR_PCA9450=y

# I2C support (U-Boot)
CONFIG_DM_I2C=y

# Power management commands for debugging (U-Boot only)
CONFIG_CMD_PMIC=y
CONFIG_CMD_REGULATOR=y

# === RATIONALE ===
# SPL PMIC Init: Essential for DRAM voltage requirements
# - BUCK1 (VDD_SOC): ~0.9V for DRAM controller
# - BUCK3 (VDD_DRAM): ~1.1V for DRAM operation  
# - Basic I2C for PMIC communication at address 0x25
# 
# U-Boot PMIC: Full features for power management
# - Complete regulator framework
# - Voltage scaling for performance
# - Power management commands
# - STBY mode configuration for DSM
#
# This approach ensures:
# ✅ DRAM initialization works (SPL sets essential voltages)
# ✅ SPL size kept reasonable (minimal PMIC support)
# ✅ Full power management available in U-Boot proper