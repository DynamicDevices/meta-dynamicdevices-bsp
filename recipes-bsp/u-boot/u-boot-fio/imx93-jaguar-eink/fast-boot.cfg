# Fast boot configuration for imx93-jaguar-eink
# Minimize U-Boot boot delays for faster startup

# Reduce boot delays - Option 1 optimization
CONFIG_BOOTDELAY=0
CONFIG_ZERO_BOOTDELAY_CHECK=y

# Skip unnecessary U-Boot features
CONFIG_CMD_BOOTMENU=n
CONFIG_AUTOBOOT_MENU_SHOW=n

# Fast environment loading (keep environment support)
# CONFIG_ENV_IS_NOWHERE=y

# Reduce output but keep console functional - Option 1 optimization
CONFIG_SILENT_CONSOLE=y
CONFIG_SILENT_CONSOLE_UPDATE_ON_SET=y
# CONFIG_DISABLE_CONSOLE=y

# Optimize memory
CONFIG_SYS_MALLOC_LEN=0x2000000

# Keep USB support for boot compatibility - disable USB from boot targets instead
CONFIG_USB_STORAGE=n
CONFIG_CMD_USB=y

# Keep essential distro defaults for OSTree boot - distro_bootcmd needs this
CONFIG_DISTRO_DEFAULTS=y
CONFIG_BOOTCOMMAND="run distro_bootcmd"

# Optimize specific distro features instead of disabling all - Option 1 optimization
CONFIG_BOOTMENU_DELAY=0
# Prioritize MMC first, skip USB enumeration during boot for speed
CONFIG_DISTRO_DEFAULTS_FEATURES="mmc sata scsi ide"
# Skip USB storage enumeration during boot (can be enabled later if needed)
CONFIG_USB_STORAGE_BOOT=n
